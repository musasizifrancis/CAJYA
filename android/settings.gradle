plugins {
    id "dev.flutter.flutter-gradle-plugin" version "1.0.0" apply false
}

include ":app"

def flutterRoot = rootProject.projectDir.getParentFile().toPath().normalize()
def flutterModulePath = flutterRoot.resolve("..").normalize()
def localPropertiesFile = new File(rootDir, "local.properties")
def properties = new Properties()

if (localPropertiesFile.exists()) {
    properties.load(localPropertiesFile.newDataInputStream())
}

def flutterSdk = properties.getProperty("flutter.sdk")
if (flutterSdk == null) {
    throw new GradleException("flutter.sdk not set in local.properties")
}

def flutterModule = flutterRoot.resolve(flutterSdk)
assert flutterModule.toFile().isDirectory() : "flutter sdk not found at \$flutterModule"
